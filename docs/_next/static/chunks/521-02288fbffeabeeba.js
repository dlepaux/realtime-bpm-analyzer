(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{3454:function(e,n,t){"use strict";var r,o;e.exports=(null==(r=t.g.process)?void 0:r.env)&&"object"===typeof(null==(o=t.g.process)?void 0:o.env)?t.g.process:t(7663)},2963:function(e,n,t){"use strict";var r=t(1438),o=t(2951),i=t(8029),a=t(460),c=t(5893),u=t(7294),s=100,l=function(e){(0,i.Z)(t,e);var n=(0,a.Z)(t);function t(e){var o;return(0,r.Z)(this,t),(o=n.call(this,e)).canvas=u.createRef(),o.bufferLength=e.bufferLength,o.dataArray=e.dataArray,o.state={parentWidth:200},o}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.setState({parentWidth:this.canvas.current.parentNode.offsetWidth})}},{key:"componentDidUpdate",value:function(e){var n=e.bufferLength,t=e.dataArray;this.bufferLength=n,this.dataArray=t}},{key:"drawFrequencyBarGraph",value:function(){console.log("drawFrequencyBarGraph");var e=this.canvas.current.getContext("2d"),n=this.canvas.current.parentNode.offsetWidth;e.clearRect(0,0,n,s),e.fillStyle="#212529",e.fillRect(0,0,n,s);for(var t,r=n/this.bufferLength*2.5,o=0,i=0;i<this.bufferLength;i++)t=this.dataArray[i]/2,e.fillStyle="rgba(100, 206, 170, ".concat((t/s).toFixed(2),")"),e.fillRect(o,s-t/2,r,t),o+=r+1}},{key:"render",value:function(){return(0,c.jsx)("div",{className:"canvas-container bg-dark",children:(0,c.jsx)("canvas",{ref:this.canvas,height:s,width:this.state.parentWidth})})}}]),t}(u.Component);n.Z=l},6308:function(e,n,t){"use strict";t.d(n,{Do:function(){return i},WV:function(){return o},kq:function(){return r},pM:function(){return u},vb:function(){return c},w9:function(){return a}});var r=function(){return new(window.AudioContext||window.mozAudioContext||window.webkitAudioContext)},o="".concat("/realtime-bpm-analyzer","/media/new_order-blue_monday.mp3"),i="npm install realtime-bpm-analyzer",a='<audio src="'.concat("/realtime-bpm-analyzer",'/media/new_order-blue_monday.mp3" id="music"></audio>'),c="import { createRealTimeBpmProcessor } from 'realtime-bpm-analyzer';\n\nconst realtimeAnalyzerNode = await createRealTimeBpmProcessor(audioContext);\n\n// Set the source with the HTML Audio Node\nconst track = document.getElementById('track');\nconst source = audioContext.createMediaElementSource(track);\n\n// Lowpass filter\nconst filter = audioContext.createBiquadFilter();\nfilter.type = 'lowpass';\n\n// Connect stuff together\nsource.connect(filter).connect(realtimeAnalyzerNode);\nsource.connect(audioContext.destination);\n\nrealtimeAnalyzerNode.port.onmessage = (event) => {\n  if (event.data.message === 'BPM') {\n    console.log('BPM', event.data.result);\n  }\n  if (event.data.message === 'BPM_STABLE') {\n    console.log('BPM_STABLE', event.data.result);\n  }\n};\n",u="// For NextJS see your next.config.js and add this:\n// You also need to install 'npm install copy-webpack-plugin@6.4.1 -D'\n// Note that the latest version (11.0.0) didn't worked properly with NextJS 12\nconst path = require('path');\nconst CopyPlugin = require('copy-webpack-plugin');\nmodule.exports = {\nwebpack: config => {\n    config.plugins.push(\n      new CopyPlugin({\n        patterns: [\n          {\n            from: './node_modules/realtime-bpm-analyzer/dist/realtime-bpm-processor.js',\n            to: path.resolve(__dirname, 'public'),\n          },\n        ],\n      },\n      ));\n\n    return config;\n  },\n};\n"},7663:function(e){!function(){var n={229:function(e){var n,t,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(r){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{t="function"===typeof clearTimeout?clearTimeout:i}catch(e){t=i}}();var c,u=[],s=!1,l=-1;function f(){s&&c&&(s=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!s){var e=a(f);s=!0;for(var n=u.length;n;){for(c=u,u=[];++l<n;)c&&c[l].run();l=-1,n=u.length}c=null,s=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function h(){}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];u.push(new p(e,n)),1!==u.length||s||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}},a=!0;try{n[e](i,i.exports,r),a=!1}finally{a&&delete t[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()},75:function(e,n,t){var r=t(3454);(function(){var n,t,o,i,a,c;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof r&&null!==r&&r.hrtime?(e.exports=function(){return(n()-a)/1e6},t=r.hrtime,i=(n=function(){var e;return 1e9*(e=t())[0]+e[1]})(),c=1e9*r.uptime(),a=i-c):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)},4087:function(e,n,t){for(var r=t(75),o="undefined"===typeof window?t.g:window,i=["moz","webkit"],a="AnimationFrame",c=o["request"+a],u=o["cancel"+a]||o["cancelRequest"+a],s=0;!c&&s<i.length;s++)c=o[i[s]+"Request"+a],u=o[i[s]+"Cancel"+a]||o[i[s]+"CancelRequest"+a];if(!c||!u){var l=0,f=0,d=[];c=function(e){if(0===d.length){var n=r(),t=Math.max(0,16.666666666666668-(n-l));l=t+n,setTimeout((function(){var e=d.slice(0);d.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(l)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(t))}return d.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var n=0;n<d.length;n++)d[n].handle===e&&(d[n].cancelled=!0)}}e.exports=function(e){return c.call(o,e)},e.exports.cancel=function(){u.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=c,e.cancelAnimationFrame=u}},6174:function(e,n,t){"use strict";t.d(n,{q:function(){return o}});var r=(e,n,t)=>new Promise(((r,o)=>{var i=e=>{try{c(t.next(e))}catch(n){o(n)}},a=e=>{try{c(t.throw(e))}catch(n){o(n)}},c=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);c((t=t.apply(e,n)).next())}));function o(e){return r(this,null,(function*(){const n=yield function(e,n){return r(this,null,(function*(){try{yield e.audioWorklet.addModule(`./${n}.js`);return new AudioWorkletNode(e,n)}catch(t){throw console.log(t),t}}))}(e,"realtime-bpm-processor");return yield e.resume(),n}))}},7568:function(e,n,t){"use strict";function r(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var a=e.apply(n,t);function c(e){r(a,o,i,c,u,"next",e)}function u(e){r(a,o,i,c,u,"throw",e)}c(void 0)}))}}t.d(n,{Z:function(){return o}})}}]);